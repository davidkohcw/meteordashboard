(this.webpackJsonpmeteordashboard=this.webpackJsonpmeteordashboard||[]).push([[0],{225:function(e,t,n){},227:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(188),s=n.n(c),i=(n(225),n(125)),o=n.n(i),l=n(189),j=n(46),d=(n(227),n(190)),u=n.n(d),b=n(5),h=function(e){var t=e.props;if(void 0==t)return null;console.log(t);return Object(b.jsxs)("table",{id:"Current-Leaders-Table",className:"ui small selectable inverted table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Contribution"}),Object(b.jsx)("th",{children:"Wallet ID"})]})}),Object(b.jsx)("tbody",{children:Object.values(t).map((function(e){return Object(b.jsxs)("tr",{className:"Table-Row",children:[Object(b.jsx)("td",{children:e.amount}),Object(b.jsx)("td",{children:e.from})]})}))})]})},x=(n(247),n(368)),O=n(371),f=n(369),m=n(373),p=function(e){var t=e.props;if(void 0==t)return null;return Object(b.jsxs)(O.a,{domainPadding:20,children:[Object(b.jsx)(f.a,{style:{data:{fill:"cyan"}},data:t,bins:20,x:"amount",labels:function(e){return function(e){return e.y>0?e.y:""}(e.datum)}}),Object(b.jsx)(m.a,{label:"Contribution"}),Object(b.jsx)(m.a,{dependentAxis:!0,label:"Wallet Count"})]})},g=function(e){var t=e.props;if(void 0==t)return null;function n(e,t){var n=Math.floor(t*e/100)+10;return NaN==n?null:n}return Object(b.jsxs)("table",{className:"ui tiny selectable inverted table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Tier"}),Object(b.jsx)("th",{children:"Breakdown"}),Object(b.jsx)("th",{children:"Available"}),Object(b.jsx)("th",{children:"Odds of Egg"}),Object(b.jsx)("th",{children:"Min Contribution (UST)"})]})}),Object(b.jsxs)("tbody",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Legendary"}),Object(b.jsx)("td",{children:"Top 10"}),Object(b.jsx)("td",{children:"10"}),Object(b.jsx)("td",{children:"100%"}),Object(b.jsxs)("td",{children:[" ",t[10].amount," "]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Ancient"}),Object(b.jsx)("td",{children:"Next 9%"}),Object(b.jsx)("td",{children:"30"}),Object(b.jsxs)("td",{children:[" ",(3e3/(.09*t.length)).toFixed(2),"% "]}),Object(b.jsxs)("td",{children:[" ",t[n(9,t.length)].amount," "]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Rare"}),Object(b.jsx)("td",{children:"Next 22%"}),Object(b.jsx)("td",{children:"60"}),Object(b.jsxs)("td",{children:[" ",100*(60/(.22*t.length)).toFixed(2),"% "]}),Object(b.jsxs)("td",{children:[" ",t[n(31,t.length)].amount]})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Common"}),Object(b.jsx)("td",{children:"Remainder"}),Object(b.jsx)("td",{children:"101"}),Object(b.jsxs)("td",{children:[" ",(101/(.69*t.length-10)*100).toFixed(2),"%  "]}),Object(b.jsx)("td",{children:" 8 "})]})]})]})},v=n(372),y=n(374),S=function(e){var t=e.props,n=Object(r.useState)([]),a=Object(j.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)([]),o=Object(j.a)(i,2),l=o[0],d=o[1],u=Object(r.useState)([]),h=Object(j.a)(u,2),x=h[0],f=h[1],p=Object(r.useState)([]),g=Object(j.a)(p,2),S=g[0],k=g[1];if(Object(r.useEffect)((function(){!function(e){for(var t=[],n=[],r=[],a=[],c=0;c<e.length;c++)t.push({x:c,y:w(e[c])}),n.push({x:c,y:C(e[c])}),r.push({x:c,y:T(e[c])}),a.push({x:c,y:8});s(t),d(n),f(r),k(a)}(t)}),[t]),void 0==t)return null;function w(e){return e.length>=10?e[10].amount:e[e.length].amount}function C(e){return e.length>=10?e[Math.floor(.09*e.length+10)].amount:e[e.length].amount}function T(e){return e.length>=10?e[Math.floor(.31*e.length+10)].amount:e[e.length].amount}return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Historical Tier Entry Price (UST)"}),Object(b.jsxs)(O.a,{domainPadding:20,children:[Object(b.jsx)(v.a,{style:{data:{stroke:"#c43a31"}},data:c,interpolation:"natural"}),Object(b.jsx)(v.a,{style:{data:{stroke:"blue"}},data:l,interpolation:"natural"}),Object(b.jsx)(v.a,{style:{data:{stroke:"orange"}},data:x,interpolation:"natural"}),Object(b.jsx)(v.a,{style:{data:{stroke:"green"}},data:S,interpolation:"natural"}),Object(b.jsx)(y.a,{x:50,y:10,orientation:"horizontal",gutter:20,colorScale:["#c43a31","blue","orange","green"],data:[{name:"Legendary"},{name:"Ancient"},{name:"Rare"},{name:"Common"}]}),Object(b.jsx)(m.a,{label:"Meteor Shower"}),Object(b.jsx)(m.a,{dependentAxis:!0})]})]})},k=n(200),w=n.n(k);var C=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),s=Object(j.a)(c,2),i=s[0],d=s[1],O=new Date(2021,10,1,5).getTime(),f=10,m="terra193xyvyk5c6f46k87x9nq7gcg305dk37nzm7vdt",v=function(){var e=(new Date).getTime(),t=Math.floor((e-O)/36e4);if(t>f)return 9;return t}();function y(e,t){var n="https://bombay-fcd.terra.dev/v1/txs?";return n+="account="+e,t&&(n+="&offset="+t),n+="&limit=100"}function k(e,t){return e.amount<t.amount?1:e.amount>t.amount?-1:0}function C(){return(C=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=y(m),n=!0,r=[];case 3:if(!n){e.next=8;break}return e.next=6,u.a.get(t).then((function(e){var a=e.data.next,c=F(e.data.txs);r=r.concat(c),t=y(m,a),c.length<100&&(n=!1)}));case 6:e.next=3;break;case 8:r.reverse(),a(T(r)),d(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){for(var t=[],n=0;n<f;n++)t.push([]);for(n=0;n<e.length;n++){var r=Math.floor((e[n].timestamp-O)/36e5);if(r<f)if(0==t[r].length)t[r].push(e[n]);else for(var a=parseInt(t[r].length),c=0;c<a;c++){if(t[r][c].from!=e[n].from){t[r].push(e[n]);break}t[r][c].amount+=e[n].amount}}console.log("Sorting!");for(n=0;n<f;n++)t[n].sort(k);return t}function F(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],a=Date.parse(r.timestamp),c=r.tx.value.msg[0].value.from_address,s=r.tx.value.msg[0].value.amount[0];if("uusd"==s.denom&&a>O){var i={timestamp:a,from:c,amount:parseFloat((parseFloat(s.amount)*Math.pow(10,-6)).toFixed(2))};t.push(i)}}return t}return console.log("Start time: ",O),console.log(v),Object(r.useEffect)((function(){!function(){C.apply(this,arguments)}()}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)(x.a,{children:[Object(b.jsx)("h1",{children:"Meteor Shower Dashboard"}),Object(b.jsxs)("h2",{id:"Sub-Heading",children:["Current Shower: ",v+1," / ",f]})]}),i?Object(b.jsxs)("h2",{children:[" Querying BlockChain ",Object(b.jsx)("h3",{children:" (Can take a few minutes to process)"})]}):"",Object(b.jsx)(w.a,{loading:i,size:150}),Object(b.jsxs)(x.a,{id:"Top-Dashboard",children:[Object(b.jsx)(h,{props:n[v]}),Object(b.jsxs)(x.a,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(p,{props:n[v]})}),Object(b.jsx)(g,{props:n[v]})]})]}),Object(b.jsx)(x.a,{children:Object(b.jsx)(S,{props:n})}),Object(b.jsx)("p",{})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,375)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),T()}},[[361,1,2]]]);
//# sourceMappingURL=main.51c6f52a.chunk.js.map